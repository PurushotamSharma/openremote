2024-03-15 10:38:35.319  INFO    [main                          ] org.openremote.container.Container       : Metrics enabled: true
2024-03-15 10:38:35.375  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2024-03-15 10:38:35.376  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.syslog.SyslogService
2024-03-15 10:38:35.377  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2024-03-15 10:38:35.379  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.persistence.ManagerPersistenceService
2024-03-15 10:38:35.380  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2024-03-15 10:38:35.414  INFO    [main                          ] container.persistence.PersistenceService : Setting storage directory to '/storage'
2024-03-15 10:38:35.415  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2024-03-15 10:38:35.747  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 9.15.1 by Redgate
2024-03-15 10:38:35.748  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : See release notes here: https://rd.gt/416ObMi
2024-03-15 10:38:35.748  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : 
2024-03-15 10:38:35.791  INFO    [main                          ] .internal.database.base.BaseDatabaseType : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 15.1)
2024-03-15 10:38:35.807  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:35.808  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb_toolkit" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:35.862  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:35.863  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb_toolkit" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:35.869  WARNING [main                          ] container.persistence.PersistenceService : DB is empty so changing forceClean to true
2024-03-15 10:38:35.870  WARNING [main                          ] container.persistence.PersistenceService : !!! Cleaning database !!!
2024-03-15 10:38:35.893  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:35.894  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb_toolkit" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:35.901  INFO    [main                          ] ore.internal.command.clean.CleanExecutor : Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2024-03-15 10:38:35.903  WARNING [main                          ] ore.internal.command.clean.CleanExecutor : Unable to clean unknown schema: "openremote"
2024-03-15 10:38:35.904  INFO    [main                          ] ore.internal.command.clean.CleanExecutor : Successfully dropped post-schema database level objects (execution time 00:00.000s)
2024-03-15 10:38:35.922  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:35.924  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb_toolkit" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:35.942  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:35.943  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb_toolkit" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:35.968  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:35.969  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb_toolkit" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:35.974  INFO    [main                          ] container.persistence.PersistenceService : Pending task: 20191202.01, Schema, V20191202_01__Schema.sql
2024-03-15 10:38:35.974  INFO    [main                          ] container.persistence.PersistenceService : Pending task: 20220523.03, RenameTenantRuleset, V20220523_03__RenameTenantRuleset.sql
2024-03-15 10:38:35.975  INFO    [main                          ] container.persistence.PersistenceService : Pending task: 20220705.01, Schema, V20220705_01__Schema.sql
2024-03-15 10:38:35.975  INFO    [main                          ] container.persistence.PersistenceService : Pending task: 20221219.01, HelperFunctions, V20221219_01__HelperFunctions.sql
2024-03-15 10:38:35.975  INFO    [main                          ] container.persistence.PersistenceService : Pending task: 20230105.01, HelperFunctionsFix, V20230105_01__HelperFunctionsFix.sql
2024-03-15 10:38:35.976  INFO    [main                          ] container.persistence.PersistenceService : Pending task: 20230120.01, Timescale, V20230120_01__Timescale.sql
2024-03-15 10:38:35.993  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:35.994  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb_toolkit" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:36.004  INFO    [main                          ] waydb.core.internal.database.base.Schema : Creating schema "openremote" ...
2024-03-15 10:38:36.010  INFO    [main                          ] nal.schemahistory.JdbcTableSchemaHistory : Creating Schema History table "openremote"."flyway_schema_history" ...
2024-03-15 10:38:36.043  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:36.044  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb_toolkit" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:36.050  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": null
2024-03-15 10:38:36.062  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Migrating schema "openremote" to version "20191202.01 - Schema"
2024-03-15 10:38:36.415  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Migrating schema "openremote" to version "20220523.03 - RenameTenantRuleset"
2024-03-15 10:38:36.423  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Migrating schema "openremote" to version "20220705.01 - Schema"
2024-03-15 10:38:36.433  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Migrating schema "openremote" to version "20221219.01 - HelperFunctions"
2024-03-15 10:38:36.441  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Migrating schema "openremote" to version "20230105.01 - HelperFunctionsFix"
2024-03-15 10:38:36.446  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Migrating schema "openremote" to version "20230120.01 - Timescale"
2024-03-15 10:38:36.452  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: column type "timestamp without time zone" used for "timestamp" does not follow best practices (SQL State: 01000 - Error Code: 0)
2024-03-15 10:38:36.452  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: column type "character varying" used for "entity_id" does not follow best practices (SQL State: 01000 - Error Code: 0)
2024-03-15 10:38:36.452  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: column type "character varying" used for "attribute_name" does not follow best practices (SQL State: 01000 - Error Code: 0)
2024-03-15 10:38:36.453  INFO    [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : +----------------------------------+
| create_hypertable                |
+----------------------------------+
| (1,openremote,asset_datapoint,t) |
+----------------------------------+

2024-03-15 10:38:36.455  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: column type "timestamp without time zone" used for "timestamp" does not follow best practices (SQL State: 01000 - Error Code: 0)
2024-03-15 10:38:36.456  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: column type "character varying" used for "entity_id" does not follow best practices (SQL State: 01000 - Error Code: 0)
2024-03-15 10:38:36.456  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: column type "character varying" used for "attribute_name" does not follow best practices (SQL State: 01000 - Error Code: 0)
2024-03-15 10:38:36.456  INFO    [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : +--------------------------------------------+
| create_hypertable                          |
+--------------------------------------------+
| (2,openremote,asset_predicted_datapoint,t) |
+--------------------------------------------+

2024-03-15 10:38:36.461  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Successfully applied 6 migrations to schema "openremote", now at version v20230120.01 (execution time 00:00.415s)
2024-03-15 10:38:36.463  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 6
2024-03-15 10:38:36.478  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:36.479  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb_toolkit" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:36.489  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 7 migrations (execution time 00:00.006s)
2024-03-15 10:38:36.499  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:36.500  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb_toolkit" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-15 10:38:36.502  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.security.ManagerIdentityService
2024-03-15 10:38:36.503  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2024-03-15 10:38:36.522  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2024-03-15 10:38:36.816  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2024-03-15 10:38:36.971  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2024-03-15 10:38:36.975  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.asset.AssetModelService
2024-03-15 10:38:36.978  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.setup.SetupService
2024-03-15 10:38:36.979  INFO    [main                          ] rg.openremote.manager.setup.SetupService : OR_SETUP_TYPE value: null
2024-03-15 10:38:36.983  INFO    [main                          ] rg.openremote.manager.setup.SetupService : --- EXECUTING INIT TASKS ---
2024-03-15 10:38:36.984  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Executing setup task 'org.openremote.manager.setup.KeycloakCleanSetup'
2024-03-15 10:38:36.984  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Executing setup task 'org.openremote.manager.setup.KeycloakInitSetup'
2024-03-15 10:38:36.985  INFO    [main                          ] rg.openremote.manager.setup.SetupService : --- INIT TASKS COMPLETED SUCCESSFULLY ---
2024-03-15 10:38:36.985  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.gateway.GatewayService
2024-03-15 10:38:37.010  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.container.timer.TimerService
2024-03-15 10:38:37.010  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.asset.AssetStorageService
2024-03-15 10:38:37.019  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.mqtt.MQTTBrokerService
2024-03-15 10:38:37.031  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.provisioning.ProvisioningService
2024-03-15 10:38:37.032  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.datapoint.AssetDatapointService
2024-03-15 10:38:37.034  INFO    [main                          ] .manager.datapoint.AssetDatapointService : Data point purge interval days = 31
2024-03-15 10:38:37.035  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.datapoint.AssetPredictedDatapointService
2024-03-15 10:38:37.036  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.rules.RulesetStorageService
2024-03-15 10:38:37.039  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.asset.AttributeLinkingService
2024-03-15 10:38:37.040  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.asset.AssetProcessingService
2024-03-15 10:38:37.046  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.system.HealthService
2024-03-15 10:38:37.049  INFO    [main                          ] .openremote.manager.system.HealthService : Health Status Provider: class org.openremote.manager.system.JvmHealthStatusProvider
2024-03-15 10:38:37.049  INFO    [main                          ] .openremote.manager.system.HealthService : Health Status Provider: class org.openremote.manager.system.SslHealthStatusProvider
2024-03-15 10:38:37.050  INFO    [main                          ] .openremote.manager.system.HealthService : Health Status Provider: class org.openremote.manager.system.SystemHealthStatusProvider
2024-03-15 10:38:37.051  INFO    [main                          ] .openremote.manager.system.HealthService : Health Status Provider: class org.openremote.manager.rules.RulesHealthStatusProvider
2024-03-15 10:38:37.052  INFO    [main                          ] .openremote.manager.system.HealthService : Health Status Provider: class org.openremote.manager.agent.AgentHealthStatusProvider
2024-03-15 10:38:37.052  INFO    [main                          ] .openremote.manager.system.HealthService : Health Status Provider: class org.openremote.manager.datapoint.AssetDatapointHealthStatusProvider
2024-03-15 10:38:37.053  INFO    [main                          ] .openremote.manager.system.HealthService : Health Status Provider: class org.openremote.manager.datapoint.AssetPredictedDatapointHealthStatusProvider
2024-03-15 10:38:37.054  INFO    [main                          ] .openremote.manager.system.HealthService : Health Status Provider: class org.openremote.manager.system.CamelHealthStatusProvider
2024-03-15 10:38:37.055  INFO    [main                          ] .openremote.manager.system.HealthService : Health Status Provider: class org.openremote.container.persistence.PersistenceHealthStatusProvider
2024-03-15 10:38:37.057  INFO    [main                          ] .openremote.manager.system.HealthService : Metrics collection enabled
2024-03-15 10:38:37.070  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.map.MapService
2024-03-15 10:38:37.071  WARNING [main                          ] org.openremote.manager.map.MapService    : Map tiles data file not found '/deployment.local/mapdata/mapdata.mbtiles', falling back to built in map
2024-03-15 10:38:37.072  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.notification.NotificationService
2024-03-15 10:38:37.074  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.webhook.WebhookService
2024-03-15 10:38:37.075  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.apps.ConsoleAppService
2024-03-15 10:38:37.086  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2024-03-15 10:38:37.139  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.notification.PushNotificationHandler
2024-03-15 10:38:37.141  WARNING [main                          ] ger.notification.PushNotificationHandler : OR_FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2024-03-15 10:38:37.141  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.notification.EmailNotificationHandler
2024-03-15 10:38:37.141  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.gateway.GatewayClientService
2024-03-15 10:38:37.144  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.energy.EnergyOptimisationService
2024-03-15 10:38:37.145  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.energy.ForecastWindService
2024-03-15 10:38:37.145  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.energy.ForecastSolarService
2024-03-15 10:38:37.145  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.dashboard.DashboardStorageService
2024-03-15 10:38:37.146  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.security.AuthorisationService
2024-03-15 10:38:37.147  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.app.ConfigurationService
2024-03-15 10:38:37.147  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.asset.ForecastService
2024-03-15 10:38:37.148  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.event.ClientEventService
2024-03-15 10:38:37.173  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.rules.RulesService
2024-03-15 10:38:37.189  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.container.message.MessageBrokerService
2024-03-15 10:38:37.199  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.agent.AgentService
2024-03-15 10:38:37.202  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.web.ManagerWebService
2024-03-15 10:38:37.212  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Console app info files
2024-03-15 10:38:37.239  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2024-03-15 10:38:37.524  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2024-03-15 10:38:37.527  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2024-03-15 10:38:37.529  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.rules.geofence.ORConsoleGeofenceAssetAdapter
2024-03-15 10:38:37.533  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2024-03-15 10:38:37.914  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.syslog.SyslogService
2024-03-15 10:38:37.916  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.persistence.ManagerPersistenceService
2024-03-15 10:38:40.225  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.security.ManagerIdentityService
2024-03-15 10:38:40.226  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : No stored credentials so using OR_ADMIN_PASSWORD
2024-03-15 10:38:40.229  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2024-03-15 10:38:40.229  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Validating keycloak credentials
2024-03-15 10:38:40.809  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Credentials are valid
2024-03-15 10:38:40.809  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : OR_ADMIN_PASSWORD credentials are valid so creating/recreating stored credentials
2024-03-15 10:38:41.413  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Stored credentials successfully generated so using them
2024-03-15 10:38:41.414  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2024-03-15 10:38:41.414  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Validating keycloak credentials
2024-03-15 10:38:41.466  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Credentials are valid
2024-03-15 10:38:41.466  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.asset.AssetModelService
2024-03-15 10:38:41.466  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.setup.SetupService
2024-03-15 10:38:41.467  INFO    [main                          ] rg.openremote.manager.setup.SetupService : --- EXECUTING START TASKS ---
2024-03-15 10:38:41.468  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Executing setup task 'org.openremote.manager.setup.KeycloakCleanSetup'
2024-03-15 10:38:41.468  INFO    [main                          ] nremote.manager.setup.KeycloakCleanSetup : Deleting all non-master realms
2024-03-15 10:38:41.508  INFO    [main                          ] nremote.manager.setup.KeycloakCleanSetup : Deleting all non-master admin users
2024-03-15 10:38:41.520  INFO    [main                          ] nremote.manager.setup.KeycloakCleanSetup : Deleting all non default clients
2024-03-15 10:38:41.586  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Executing setup task 'org.openremote.manager.setup.KeycloakInitSetup'
2024-03-15 10:38:42.411  INFO    [main                          ] rg.openremote.manager.setup.SetupService : --- START TASKS COMPLETED SUCCESSFULLY ---
2024-03-15 10:38:42.412  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.gateway.GatewayService
2024-03-15 10:38:42.431  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.container.timer.TimerService
2024-03-15 10:38:42.431  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.asset.AssetStorageService
2024-03-15 10:38:42.431  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.mqtt.MQTTBrokerService
2024-03-15 10:38:42.554  INFO    [main                          ] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,journalDirectory=data/journal,bindingsDirectory=data/bindings,largeMessagesDirectory=data/largemessages,pagingDirectory=data/paging)
2024-03-15 10:38:42.558  INFO    [main                          ] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2024-03-15 10:38:42.569  INFO    [main                          ] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 1073741824
2024-03-15 10:38:42.586  INFO    [main                          ] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2024-03-15 10:38:42.587  INFO    [main                          ] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-mqtt-protocol]. Adding protocol support for: MQTT
2024-03-15 10:38:42.614  INFO    [main                          ] org.apache.activemq.artemis.core.server  : AMQ224092: Despite disabled persistence, page files will be persisted.
2024-03-15 10:38:42.772  INFO    [main                          ] org.apache.activemq.artemis.core.server  : AMQ221020: Started EPOLL Acceptor at 0.0.0.0:1883 for protocols [MQTT]
2024-03-15 10:38:42.773  INFO    [main                          ] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2024-03-15 10:38:42.773  INFO    [main                          ] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.31.0 [localhost, nodeID=cf9e82ad-e2af-11ee-8095-0242ac130004] 
2024-03-15 10:38:42.865  INFO    [main                          ] mote.manager.mqtt.DefaultMQTTHandler.API : Adding publish consumer for topic '+/+/writeattributevalue/#': handler=DefaultMQTTHandler
2024-03-15 10:38:42.887  INFO    [main                          ] qtt.UserAssetProvisioningMQTTHandler.API : Adding publish consumer for topic 'provisioning/+/request': handler=UserAssetProvisioningMQTTHandler
2024-03-15 10:38:42.900  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.provisioning.ProvisioningService
2024-03-15 10:38:42.900  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.datapoint.AssetDatapointService
2024-03-15 10:38:42.903  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.datapoint.AssetPredictedDatapointService
2024-03-15 10:38:42.903  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.rules.RulesetStorageService
2024-03-15 10:38:42.904  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.asset.AttributeLinkingService
2024-03-15 10:38:42.904  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.asset.AssetProcessingService
2024-03-15 10:38:42.904  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.system.HealthService
2024-03-15 10:38:42.905  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.map.MapService
2024-03-15 10:38:42.905  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2024-03-15 10:38:43.012  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.notification.NotificationService
2024-03-15 10:38:43.012  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.webhook.WebhookService
2024-03-15 10:38:43.013  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.apps.ConsoleAppService
2024-03-15 10:38:43.013  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.notification.PushNotificationHandler
2024-03-15 10:38:43.013  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2024-03-15 10:38:43.013  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.notification.EmailNotificationHandler
2024-03-15 10:38:43.013  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.gateway.GatewayClientService
2024-03-15 10:38:43.018  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.energy.EnergyOptimisationService
2024-03-15 10:38:43.022  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.energy.ForecastWindService
2024-03-15 10:38:43.022  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.energy.ForecastSolarService
2024-03-15 10:38:43.022  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.dashboard.DashboardStorageService
2024-03-15 10:38:43.023  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.security.AuthorisationService
2024-03-15 10:38:43.023  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.app.ConfigurationService
2024-03-15 10:38:43.023  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.asset.ForecastService
2024-03-15 10:38:43.030  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.event.ClientEventService
2024-03-15 10:38:43.031  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.rules.RulesService
2024-03-15 10:38:43.057  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.container.message.MessageBrokerService
2024-03-15 10:38:43.057  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2024-03-15 10:38:43.231  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext : Apache Camel 4.0.4 (camel-1) is starting
2024-03-15 10:38:43.312  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext : Using ThreadPoolFactory: org.openremote.container.message.MessageBrokerService$1@3cd2fd3d
2024-03-15 10:38:43.498  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket/events
2024-03-15 10:38:43.540  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext : Routes startup (started:27)
2024-03-15 10:38:43.540  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-GatewayAsset (seda://PersistenceTopic)
2024-03-15 10:38:43.540  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-Asset (seda://PersistenceTopic)
2024-03-15 10:38:43.540  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started ClientInbound-Query (seda://ClientInboundQueue)
2024-03-15 10:38:43.541  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-UserAndAssetLink (seda://PersistenceTopic)
2024-03-15 10:38:43.541  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started ClientOutbound-DefaultMQTTHandler (seda://ClientOutboundQueue)
2024-03-15 10:38:43.541  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-MQTTConnectedAttributes (seda://PersistenceTopic)
2024-03-15 10:38:43.541  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started AttributeEvent-Router (seda://AttributeEventRouter)
2024-03-15 10:38:43.541  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started AttributeEvent-Processor1 (seda://AttributeEventProcessor1)
2024-03-15 10:38:43.541  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started AttributeEvent-Processor2 (seda://AttributeEventProcessor2)
2024-03-15 10:38:43.542  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started AttributeEvent-Processor3 (seda://AttributeEventProcessor3)
2024-03-15 10:38:43.546  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started AttributeEvent-Processor4 (seda://AttributeEventProcessor4)
2024-03-15 10:38:43.546  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started AttributeEvent-Processor5 (seda://AttributeEventProcessor5)
2024-03-15 10:38:43.546  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started AttributeEvent-Processor6 (seda://AttributeEventProcessor6)
2024-03-15 10:38:43.546  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started NotificationQueue (seda://NotificationQueue)
2024-03-15 10:38:43.553  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-PushNotificationConsoleAsset (seda://PersistenceTopic)
2024-03-15 10:38:43.554  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-GatewayConnection (seda://PersistenceTopic)
2024-03-15 10:38:43.554  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started ClientInbound-Websocket (ws://0.0.0.0/websocket/events)
2024-03-15 10:38:43.554  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started ClientInbound-EventProcessor (seda://ClientInboundQueue)
2024-03-15 10:38:43.555  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started ClientOutbound-Splitter (seda://ClientPublishQueue)
2024-03-15 10:38:43.555  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started ClientOutbound-Websocket (seda://ClientOutboundQueue)
2024-03-15 10:38:43.555  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-Ruleset (seda://PersistenceTopic)
2024-03-15 10:38:43.565  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-RulesRealm (seda://PersistenceTopic)
2024-03-15 10:38:43.565  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-RulesAsset (seda://PersistenceTopic)
2024-03-15 10:38:43.565  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-GeofenceAdapterConsoleAsset (seda://PersistenceTopic)
2024-03-15 10:38:43.566  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-ProvisioningConfig (seda://PersistenceTopic)
2024-03-15 10:38:43.566  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-EnergyOptimisation (seda://PersistenceTopic)
2024-03-15 10:38:43.566  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-ForecastConfiguration (seda://PersistenceTopic)
2024-03-15 10:38:43.566  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext : Apache Camel 4.0.4 (camel-1) started in 334ms (build:0ms init:0ms start:334ms)
2024-03-15 10:38:43.568  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.agent.AgentService
2024-03-15 10:38:43.586  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.web.ManagerWebService
2024-03-15 10:38:43.647  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.5.0.Final
2024-03-15 10:38:43.688  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2024-03-15 10:38:43.688  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.rules.geofence.ORConsoleGeofenceAssetAdapter
2024-03-15 10:38:43.692  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2024-03-18 07:13:15.579  INFO    [main                          ] org.openremote.container.Container       : Metrics enabled: true
2024-03-18 07:13:15.625  INFO    [main                          ] org.openremote.container.Container       : >>> Starting runtime container...
2024-03-18 07:13:15.626  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.syslog.SyslogService
2024-03-18 07:13:15.627  INFO    [main                          ] .openremote.manager.syslog.SyslogService : Syslog service enabled
2024-03-18 07:13:15.629  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.persistence.ManagerPersistenceService
2024-03-18 07:13:15.630  INFO    [main                          ] container.persistence.PersistenceService : Preparing persistence service for database: POSTGRES
2024-03-18 07:13:15.656  INFO    [main                          ] container.persistence.PersistenceService : Setting storage directory to '/storage'
2024-03-18 07:13:15.657  INFO    [main                          ] container.persistence.PersistenceService : Opening database connection: jdbc:postgresql://postgresql:5432/openremote?currentSchema=openremote
2024-03-18 07:13:15.939  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : Flyway Community Edition 9.15.1 by Redgate
2024-03-18 07:13:15.940  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : See release notes here: https://rd.gt/416ObMi
2024-03-18 07:13:15.941  INFO    [main                          ] ydb.core.internal.license.VersionPrinter : 
2024-03-18 07:13:15.969  INFO    [main                          ] .internal.database.base.BaseDatabaseType : Database: jdbc:postgresql://postgresql:5432/openremote (PostgreSQL 15.1)
2024-03-18 07:13:15.994  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-18 07:13:15.996  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb_toolkit" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-18 07:13:16.070  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-18 07:13:16.071  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb_toolkit" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-18 07:13:16.096  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-18 07:13:16.097  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb_toolkit" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-18 07:13:16.124  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-18 07:13:16.125  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb_toolkit" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-18 07:13:16.145  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-18 07:13:16.146  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb_toolkit" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-18 07:13:16.160  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 7 migrations (execution time 00:00.008s)
2024-03-18 07:13:16.177  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-18 07:13:16.178  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb_toolkit" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-18 07:13:16.184  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Current version of schema "openremote": 20230120.01
2024-03-18 07:13:16.185  INFO    [main                          ] flywaydb.core.internal.command.DbMigrate : Schema "openremote" is up to date. No migration necessary.
2024-03-18 07:13:16.188  INFO    [main                          ] container.persistence.PersistenceService : Applied database schema migrations: 0
2024-03-18 07:13:16.203  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-18 07:13:16.204  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb_toolkit" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-18 07:13:16.214  INFO    [main                          ] lywaydb.core.internal.command.DbValidate : Successfully validated 7 migrations (execution time 00:00.006s)
2024-03-18 07:13:16.226  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-18 07:13:16.227  WARNING [main                          ] ernal.sqlscript.DefaultSqlScriptExecutor : DB: extension "timescaledb_toolkit" already exists, skipping (SQL State: 42710 - Error Code: 0)
2024-03-18 07:13:16.230  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.security.ManagerIdentityService
2024-03-18 07:13:16.232  INFO    [main                          ] .manager.security.ManagerIdentityService : Enabling Keycloak identity provider
2024-03-18 07:13:16.250  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak service URL: http://keycloak:8080/auth
2024-03-18 07:13:16.472  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Connecting to Keycloak server: http://keycloak:8080/auth
2024-03-18 07:13:16.659  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak identity provider available: http://keycloak:8080/auth
2024-03-18 07:13:16.662  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.asset.AssetModelService
2024-03-18 07:13:16.666  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.setup.SetupService
2024-03-18 07:13:16.666  INFO    [main                          ] rg.openremote.manager.setup.SetupService : Setup service disabled, clean install = false
2024-03-18 07:13:16.667  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.gateway.GatewayService
2024-03-18 07:13:16.691  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.container.timer.TimerService
2024-03-18 07:13:16.692  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.asset.AssetStorageService
2024-03-18 07:13:16.701  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.mqtt.MQTTBrokerService
2024-03-18 07:13:16.713  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.provisioning.ProvisioningService
2024-03-18 07:13:16.714  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.datapoint.AssetDatapointService
2024-03-18 07:13:16.717  INFO    [main                          ] .manager.datapoint.AssetDatapointService : Data point purge interval days = 31
2024-03-18 07:13:16.717  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.datapoint.AssetPredictedDatapointService
2024-03-18 07:13:16.719  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.rules.RulesetStorageService
2024-03-18 07:13:16.720  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.asset.AttributeLinkingService
2024-03-18 07:13:16.721  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.asset.AssetProcessingService
2024-03-18 07:13:16.727  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.system.HealthService
2024-03-18 07:13:16.729  INFO    [main                          ] .openremote.manager.system.HealthService : Health Status Provider: class org.openremote.manager.system.JvmHealthStatusProvider
2024-03-18 07:13:16.730  INFO    [main                          ] .openremote.manager.system.HealthService : Health Status Provider: class org.openremote.manager.system.SslHealthStatusProvider
2024-03-18 07:13:16.730  INFO    [main                          ] .openremote.manager.system.HealthService : Health Status Provider: class org.openremote.manager.system.SystemHealthStatusProvider
2024-03-18 07:13:16.731  INFO    [main                          ] .openremote.manager.system.HealthService : Health Status Provider: class org.openremote.manager.rules.RulesHealthStatusProvider
2024-03-18 07:13:16.732  INFO    [main                          ] .openremote.manager.system.HealthService : Health Status Provider: class org.openremote.manager.agent.AgentHealthStatusProvider
2024-03-18 07:13:16.732  INFO    [main                          ] .openremote.manager.system.HealthService : Health Status Provider: class org.openremote.manager.datapoint.AssetDatapointHealthStatusProvider
2024-03-18 07:13:16.733  INFO    [main                          ] .openremote.manager.system.HealthService : Health Status Provider: class org.openremote.manager.datapoint.AssetPredictedDatapointHealthStatusProvider
2024-03-18 07:13:16.733  INFO    [main                          ] .openremote.manager.system.HealthService : Health Status Provider: class org.openremote.manager.system.CamelHealthStatusProvider
2024-03-18 07:13:16.734  INFO    [main                          ] .openremote.manager.system.HealthService : Health Status Provider: class org.openremote.container.persistence.PersistenceHealthStatusProvider
2024-03-18 07:13:16.736  INFO    [main                          ] .openremote.manager.system.HealthService : Metrics collection enabled
2024-03-18 07:13:16.751  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.map.MapService
2024-03-18 07:13:16.752  WARNING [main                          ] org.openremote.manager.map.MapService    : Map tiles data file not found '/deployment.local/mapdata/mapdata.mbtiles', falling back to built in map
2024-03-18 07:13:16.753  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.notification.NotificationService
2024-03-18 07:13:16.756  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.webhook.WebhookService
2024-03-18 07:13:16.756  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.apps.ConsoleAppService
2024-03-18 07:13:16.769  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2024-03-18 07:13:16.827  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.notification.PushNotificationHandler
2024-03-18 07:13:16.828  WARNING [main                          ] ger.notification.PushNotificationHandler : OR_FIREBASE_CONFIG_FILE invalid path or file not readable: /deployment/manager/fcm.json
2024-03-18 07:13:16.828  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.notification.EmailNotificationHandler
2024-03-18 07:13:16.829  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.gateway.GatewayClientService
2024-03-18 07:13:16.831  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.energy.EnergyOptimisationService
2024-03-18 07:13:16.831  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.energy.ForecastWindService
2024-03-18 07:13:16.831  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.energy.ForecastSolarService
2024-03-18 07:13:16.831  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.dashboard.DashboardStorageService
2024-03-18 07:13:16.833  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.security.AuthorisationService
2024-03-18 07:13:16.833  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.app.ConfigurationService
2024-03-18 07:13:16.834  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.asset.ForecastService
2024-03-18 07:13:16.834  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.event.ClientEventService
2024-03-18 07:13:16.856  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.rules.RulesService
2024-03-18 07:13:16.867  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.container.message.MessageBrokerService
2024-03-18 07:13:16.875  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.agent.AgentService
2024-03-18 07:13:16.878  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.web.ManagerWebService
2024-03-18 07:13:16.887  INFO    [main                          ] org.openremote.container.web.WebService  : Building web routing with handler(s): Console app info files
2024-03-18 07:13:16.912  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /api
2024-03-18 07:13:17.208  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2024-03-18 07:13:17.211  INFO    [main                          ] org.openremote.container.web.WebService  : Deploying insecure web context: /
2024-03-18 07:13:17.215  INFO    [main                          ] org.openremote.container.Container       : Initializing service: org.openremote.manager.rules.geofence.ORConsoleGeofenceAssetAdapter
2024-03-18 07:13:17.219  INFO    [main                          ] te.model.util.ValueUtil.MODEL_AND_VALUES : Initialising asset model...
2024-03-18 07:13:17.597  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.syslog.SyslogService
2024-03-18 07:13:17.599  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.persistence.ManagerPersistenceService
2024-03-18 07:13:19.750  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.security.ManagerIdentityService
2024-03-18 07:13:19.751  INFO    [main                          ] security.ManagerKeycloakIdentityProvider : Loading OR_KEYCLOAK_GRANT_FILE: /deployment/manager/keycloak.json
2024-03-18 07:13:19.799  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Found stored credentials so attempting to use them
2024-03-18 07:13:19.802  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2024-03-18 07:13:19.802  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Validating keycloak credentials
2024-03-18 07:13:20.016  WARNING [main                          ] emote.container.web.OAuthFilter.PROTOCOL : OAuth server response error: 401
2024-03-18 07:13:20.017  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Credentials are invalid
2024-03-18 07:13:20.018  WARNING [main                          ] curity.keycloak.KeycloakIdentityProvider : Stored keycloak credentials are not valid, falling back to admin user using OR_ADMIN_PASSWORD
2024-03-18 07:13:20.019  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2024-03-18 07:13:20.019  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Validating keycloak credentials
2024-03-18 07:13:20.500  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Credentials are valid
2024-03-18 07:13:20.501  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : OR_ADMIN_PASSWORD credentials are valid so creating/recreating stored credentials
2024-03-18 07:13:21.190  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Stored credentials successfully generated so using them
2024-03-18 07:13:21.191  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Keycloak proxy URI set to: http://keycloak:8080/auth
2024-03-18 07:13:21.191  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Validating keycloak credentials
2024-03-18 07:13:21.242  INFO    [main                          ] curity.keycloak.KeycloakIdentityProvider : Credentials are valid
2024-03-18 07:13:21.243  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.asset.AssetModelService
2024-03-18 07:13:21.243  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.setup.SetupService
2024-03-18 07:13:21.243  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.gateway.GatewayService
2024-03-18 07:13:21.302  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.container.timer.TimerService
2024-03-18 07:13:21.302  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.asset.AssetStorageService
2024-03-18 07:13:21.302  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.mqtt.MQTTBrokerService
2024-03-18 07:13:21.451  INFO    [main                          ] org.apache.activemq.artemis.core.server  : AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,journalDirectory=data/journal,bindingsDirectory=data/bindings,largeMessagesDirectory=data/largemessages,pagingDirectory=data/paging)
2024-03-18 07:13:21.456  INFO    [main                          ] org.apache.activemq.artemis.core.server  : AMQ221045: libaio is not available, switching the configuration into NIO
2024-03-18 07:13:21.466  INFO    [main                          ] org.apache.activemq.artemis.core.server  : AMQ221057: Global Max Size is being adjusted to 1/2 of the JVM max size (-Xmx). being defined as 1073741824
2024-03-18 07:13:21.483  INFO    [main                          ] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE
2024-03-18 07:13:21.484  INFO    [main                          ] org.apache.activemq.artemis.core.server  : AMQ221043: Protocol module found: [artemis-mqtt-protocol]. Adding protocol support for: MQTT
2024-03-18 07:13:21.510  INFO    [main                          ] org.apache.activemq.artemis.core.server  : AMQ224092: Despite disabled persistence, page files will be persisted.
2024-03-18 07:13:21.668  INFO    [main                          ] org.apache.activemq.artemis.core.server  : AMQ221020: Started EPOLL Acceptor at 0.0.0.0:1883 for protocols [MQTT]
2024-03-18 07:13:21.669  INFO    [main                          ] org.apache.activemq.artemis.core.server  : AMQ221007: Server is now live
2024-03-18 07:13:21.670  INFO    [main                          ] org.apache.activemq.artemis.core.server  : AMQ221001: Apache ActiveMQ Artemis Message Broker version 2.31.0 [localhost, nodeID=9ee87e08-e4ee-11ee-9a85-0242ac120004] 
2024-03-18 07:13:21.755  INFO    [main                          ] mote.manager.mqtt.DefaultMQTTHandler.API : Adding publish consumer for topic '+/+/writeattributevalue/#': handler=DefaultMQTTHandler
2024-03-18 07:13:21.777  INFO    [main                          ] qtt.UserAssetProvisioningMQTTHandler.API : Adding publish consumer for topic 'provisioning/+/request': handler=UserAssetProvisioningMQTTHandler
2024-03-18 07:13:21.783  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.provisioning.ProvisioningService
2024-03-18 07:13:21.784  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.datapoint.AssetDatapointService
2024-03-18 07:13:21.785  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.datapoint.AssetPredictedDatapointService
2024-03-18 07:13:21.786  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.rules.RulesetStorageService
2024-03-18 07:13:21.786  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.asset.AttributeLinkingService
2024-03-18 07:13:21.786  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.asset.AssetProcessingService
2024-03-18 07:13:21.786  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.system.HealthService
2024-03-18 07:13:21.787  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.map.MapService
2024-03-18 07:13:21.787  INFO    [main                          ] org.openremote.manager.map.MapService    : Starting map service with tile data: /deployment/map/mapdata.mbtiles
2024-03-18 07:13:21.872  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.notification.NotificationService
2024-03-18 07:13:21.872  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.webhook.WebhookService
2024-03-18 07:13:21.872  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.apps.ConsoleAppService
2024-03-18 07:13:21.873  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.notification.PushNotificationHandler
2024-03-18 07:13:21.873  WARNING [main                          ] ger.notification.PushNotificationHandler : FCM configuration invalid so cannot start
2024-03-18 07:13:21.873  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.notification.EmailNotificationHandler
2024-03-18 07:13:21.873  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.gateway.GatewayClientService
2024-03-18 07:13:21.879  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.energy.EnergyOptimisationService
2024-03-18 07:13:21.883  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.energy.ForecastWindService
2024-03-18 07:13:21.884  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.energy.ForecastSolarService
2024-03-18 07:13:21.884  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.dashboard.DashboardStorageService
2024-03-18 07:13:21.885  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.security.AuthorisationService
2024-03-18 07:13:21.885  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.app.ConfigurationService
2024-03-18 07:13:21.885  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.asset.ForecastService
2024-03-18 07:13:21.891  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.event.ClientEventService
2024-03-18 07:13:21.891  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.rules.RulesService
2024-03-18 07:13:21.938  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.container.message.MessageBrokerService
2024-03-18 07:13:21.938  INFO    [main                          ] e.container.message.MessageBrokerService : Starting Camel message broker
2024-03-18 07:13:22.107  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext : Apache Camel 4.0.4 (camel-1) is starting
2024-03-18 07:13:22.184  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext : Using ThreadPoolFactory: org.openremote.container.message.MessageBrokerService$1@78938cbd
2024-03-18 07:13:22.295  INFO    [main                          ] emote.container.security.IdentityService : Securing web deployment: /websocket/events
2024-03-18 07:13:22.309  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext : Routes startup (started:27)
2024-03-18 07:13:22.310  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-GatewayAsset (seda://PersistenceTopic)
2024-03-18 07:13:22.318  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-Asset (seda://PersistenceTopic)
2024-03-18 07:13:22.318  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started ClientInbound-Query (seda://ClientInboundQueue)
2024-03-18 07:13:22.319  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-UserAndAssetLink (seda://PersistenceTopic)
2024-03-18 07:13:22.319  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started ClientOutbound-DefaultMQTTHandler (seda://ClientOutboundQueue)
2024-03-18 07:13:22.319  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-MQTTConnectedAttributes (seda://PersistenceTopic)
2024-03-18 07:13:22.319  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started AttributeEvent-Router (seda://AttributeEventRouter)
2024-03-18 07:13:22.319  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started AttributeEvent-Processor1 (seda://AttributeEventProcessor1)
2024-03-18 07:13:22.319  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started AttributeEvent-Processor2 (seda://AttributeEventProcessor2)
2024-03-18 07:13:22.319  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started AttributeEvent-Processor3 (seda://AttributeEventProcessor3)
2024-03-18 07:13:22.320  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started AttributeEvent-Processor4 (seda://AttributeEventProcessor4)
2024-03-18 07:13:22.320  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started AttributeEvent-Processor5 (seda://AttributeEventProcessor5)
2024-03-18 07:13:22.320  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started AttributeEvent-Processor6 (seda://AttributeEventProcessor6)
2024-03-18 07:13:22.320  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started NotificationQueue (seda://NotificationQueue)
2024-03-18 07:13:22.320  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-PushNotificationConsoleAsset (seda://PersistenceTopic)
2024-03-18 07:13:22.320  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-GatewayConnection (seda://PersistenceTopic)
2024-03-18 07:13:22.320  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started ClientInbound-Websocket (ws://0.0.0.0/websocket/events)
2024-03-18 07:13:22.320  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started ClientInbound-EventProcessor (seda://ClientInboundQueue)
2024-03-18 07:13:22.320  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started ClientOutbound-Splitter (seda://ClientPublishQueue)
2024-03-18 07:13:22.320  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started ClientOutbound-Websocket (seda://ClientOutboundQueue)
2024-03-18 07:13:22.320  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-Ruleset (seda://PersistenceTopic)
2024-03-18 07:13:22.320  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-RulesRealm (seda://PersistenceTopic)
2024-03-18 07:13:22.321  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-RulesAsset (seda://PersistenceTopic)
2024-03-18 07:13:22.325  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-GeofenceAdapterConsoleAsset (seda://PersistenceTopic)
2024-03-18 07:13:22.326  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-ProvisioningConfig (seda://PersistenceTopic)
2024-03-18 07:13:22.326  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-EnergyOptimisation (seda://PersistenceTopic)
2024-03-18 07:13:22.331  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext :     Started Persistence-ForecastConfiguration (seda://PersistenceTopic)
2024-03-18 07:13:22.332  INFO    [main                          ] e.camel.impl.engine.AbstractCamelContext : Apache Camel 4.0.4 (camel-1) started in 224ms (build:0ms init:0ms start:224ms)
2024-03-18 07:13:22.334  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.agent.AgentService
2024-03-18 07:13:22.353  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.web.ManagerWebService
2024-03-18 07:13:22.390  INFO    [main                          ] org.jboss.threads                        : JBoss Threads version 3.5.0.Final
2024-03-18 07:13:22.421  INFO    [main                          ] org.openremote.container.web.WebService  : Webserver ready on http://0.0.0.0:8080
2024-03-18 07:13:22.422  INFO    [main                          ] org.openremote.container.Container       : Starting service: org.openremote.manager.rules.geofence.ORConsoleGeofenceAssetAdapter
2024-03-18 07:13:22.425  INFO    [main                          ] org.openremote.container.Container       : >>> Runtime container startup complete
2024-03-18 07:17:32.242  INFO    [Thread-0                      ] org.openremote.container.Container       : <<< Stopping runtime container...
